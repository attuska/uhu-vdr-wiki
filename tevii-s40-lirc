Leírom a beüzemelését, hogy nyoma legyen. Megizzasztott.

TEVII-S470 S2 HD PCie műholdvevő TV kártya infravörös adó/vevő része az alany.

dmesg

02:00.0 14f1:8852 Multimedia video controller: Conexant Systems, Inc. 
CX23885 PCI Video and Audio Decoder (rev 02)
03:00.0 10ec:8168 Ethernet controller: Realtek Semiconductor Co., Ltd. 
RTL8111/8168/8411 PCI Express Gigabit Ethernet Controller (rev 03)
04:05.0 1131:7133 Multimedia controller: Philips Semiconductors 
SAA7131/SAA7133/SAA7135 Video Broadcast Decoder (rev d1)

2 darab tévékártya, egy földi analóg/dvb és egy műholdas.

UHU-3.

Azért, hogy a kernel beregisztrálja a műholdas IR eszközét, létre kellett hoznom egy fájlt /etc/modprobe.d/cx23885.conf néven az alábbi  tartalommal:

options cx23885 enable_885_ir=1

Ugyanis a tévékártya kernel modulja alapban tiltja az IR eszközt, mert egyes kerneleknél szegmentációs hibát okoz, elszáll a kernel.
Szerencsére az UHU-3 és a RIA mostani kerneleire ez nem igaz.

Továbbá, mert egyszerre csak egy infravörös eszköz lehet használatban veszély nélkül még egy fájl kell a /etc/modprobe.d alá saa7134.conf 
néven, melyben le kell tiltani annak infravörös eszközét., továbbá az analóg tv részét is (a távirányítójának jóval kevesebb gombja van):

options saa7134 card=78 tuner=54 i2c_scan=1 disable_ir=1

Továbbá, azért, hogy ez /etc/modprobe.d alá pakolt új két fájl érvényesülhessen a boot folyamán újra le kell generáltatni az indító 
ramdiszkeket.

*mkinitrd-installedkernel*

És persze *systemctl enable lircd

*Újraindítva ott van a /dev/lirc0 eszköz, a *cat /dev/lirc0 *parancsra szépen nyomatja a krixkraxokat a távirányító a terminálba, ha nyomogatom 
a gomjait.

A fenti manipulációkkal UHU-3 alatt ugyanazzal a verziójú lirc csomaggal szépen megy a távirányító a /etc/lirc/lircd.conf.d/devinput.lircd.conf 
fájllal, az irw parancsra reagál, ellenben RIA alatt néma.


RIA (UBK1).

root@localhost:~#  ir-keytable
Found /sys/class/rc/rc0/ (/dev/input/event17) with:
         Driver cx23885, table rc-tevii-nec
         Supported protocols: unknown other lirc rc-5 jvc sony nec sanyo mce-kbd rc-6 sharp xmp
         Enabled protocols: lirc
         Name: cx23885 IR (TeVii S470)
         bus: 1, vendor/product: d470:9022, version: 0x0001
         Repeat delay = 500 ms, repeat period = 125 ms
root@localhost:~#

A /dev/input/event17 tök néma.

A lirc-setup beállítóprogrammal derült ki, ami csak root módban működik, véletlen választva a TiVii_650.lircd.conf -ot és eszköznek a 
/dev/input/event17 helyett a /dev/lirc0 -at.
A teszt gombra nyomva működni kezdett, ezután a mentés gombbal el lehetett menteni a fájlokat a root home mappájába.

A lirc-setup által generált fájlokat el kellett helyeznem, a lirc_options.conf fájlt a /etc/lirc alá.

# Generated by lirc-setup
[lircd]
nodaemon = False
driver = default
device = /dev/lirc0
output = /var/run/lirc/lircd
pidfile = /var/run/lirc/lircd.pid
plugindir = /usr/lib/lirc/plugins
permission = 666
allow-simulate = No
repeat-max = 600
lircd_conf = TiVii_650.lircd.conf

[lircmd]
uinput = False
nodaemon = False

[modinit]
code = echo lirc > /sys/class/rc/rc0/protocols

A TiVii_650.lircd.conf fájlt meg a /etc/lirc/lircd.conf.d alá.

És szépen be lehetett már tanítanom a VDR -t a lirc használatára, mikor annak konfig mappájában engedélyeztem a lirc használatát és az ottani 
eddigi billentyűzettel létrehozott remote.conf fájlt töröltem.

Érdekes módon UHU-3 alatt az xbmc -t tudom a távirányítóval működtetni, itt RIA alatt viszont ezután sem.
